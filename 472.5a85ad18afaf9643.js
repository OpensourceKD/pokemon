(self.webpackChunkpokemon=self.webpackChunkpokemon||[]).push([[472],{4472:(p,m,s)=>{s.r(m),s.d(m,{AuthCallbackComponent:()=>u});var l=s(467),_=s(4482),e=s(4332),r=s(6406),i=s(8662);function c(n,g){1&n&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"Processing authentication..."),e.\u0275\u0275elementEnd())}let u=(()=>{class n{constructor(t,o,a){this.route=t,this.router=o,this.authService=a,this.message="Processing authentication...",this.isProcessing=!0}ngOnInit(){var t=this;return(0,l.A)(function*(){t.route.queryParams.subscribe(function(){var o=(0,l.A)(function*(a){const v=a.code,P=a.state,E=a.error;if(E)return t.message=`Authentication failed: ${E}`,t.isProcessing=!1,void setTimeout(()=>t.router.navigate(["/"]),3e3);v&&P?(yield t.authService.handleCallback(v,P))?(t.message="Authentication successful! Redirecting...",t.isProcessing=!1,setTimeout(()=>t.router.navigate(["/"]),1500)):(t.message="Authentication failed. Redirecting...",t.isProcessing=!1,setTimeout(()=>t.router.navigate(["/"]),3e3)):(t.message="Invalid callback parameters. Redirecting...",t.isProcessing=!1,setTimeout(()=>t.router.navigate(["/"]),3e3))});return function(a){return o.apply(this,arguments)}}())})()}static{this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(r.nX),e.\u0275\u0275directiveInject(r.Ix),e.\u0275\u0275directiveInject(i.AuthService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-auth-callback"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:2,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100vh"],[2,"text-align","center"],[4,"ngIf"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,c,2,0,"p",2),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(a.message),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",a.isProcessing))},dependencies:[_.CommonModule,_.NgIf],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100vh}"]})}}return n})()},467:(p,m,s)=>{function l(h,e,f,r,i,d,c){try{var u=h[d](c),n=u.value}catch(g){return void f(g)}u.done?e(n):Promise.resolve(n).then(r,i)}function _(h){return function(){var e=this,f=arguments;return new Promise(function(r,i){var d=h.apply(e,f);function c(n){l(d,r,i,c,u,"next",n)}function u(n){l(d,r,i,c,u,"throw",n)}c(void 0)})}}s.d(m,{A:()=>_})}}]);